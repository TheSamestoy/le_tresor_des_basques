<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chasse au Trésor</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background-color: #fafafa; }
  </style>
</head>
<body class="flex justify-center items-center min-h-screen">

  <div class="max-w-3xl w-full bg-white rounded-xl shadow-lg p-8">
    <h1 class="text-3xl text-center font-semibold mb-8">Chasse au Trésor</h1>

    <div id="enigmes">
      <template id="enigme-template">
        <div class="enigme hidden text-center">
          <h2 class="text-xl font-semibold mb-4"></h2>
          <p class="mb-4"></p>
          <input type="text" class="border rounded px-4 py-2 w-full mb-4" placeholder="Votre réponse">
          <button class="bg-gray-800 text-white px-4 py-2 rounded">Valider</button>
          <p class="resultat mt-4 font-semibold"></p>
        </div>
      </template>
    </div>

    <div class="flex justify-between mt-8">
      <button id="prev" class="bg-gray-200 px-4 py-2 rounded">← Précédent</button>
      <button id="next" class="bg-gray-200 px-4 py-2 rounded">Suivant →</button>
    </div>
  </div>

<script>
const enigmesData = [
  {q:"Énigme 1",e:"Je commence la nuit, termine le matin, qui suis-je ?",r:"n"},
  {q:"Énigme 2",e:"Quelle lettre suit immédiatement 'U' dans l'alphabet ?",r:"v"},
  {q:"Énigme 3",e:"Combien font 3x7 ?",r:"21"},
  {q:"Énigme 4",e:"Quel est l'animal symbole de la sagesse ?",r:"chouette"},
  {q:"Énigme 5",e:"Quelle planète est surnommée la planète rouge ?",r:"mars"},
  {q:"Énigme 6",e:"Quelle couleur obtient-on en mélangeant bleu et jaune ?",r:"vert"},
  {q:"Énigme 7",e:"Qui a peint la Joconde ?",r:"léonard de vinci"},
  {q:"Énigme 8",e:"Combien de côtés possède un pentagone ?",r:"5"},
  {q:"Énigme 9",e:"Quel est le métal précieux jaune ?",r:"or"},
  {q:"Énigme 10",e:"Quelle capitale européenne est surnommée la ville lumière ?",r:"paris"},
  {q:"Énigme 11",e:"Quel est le plus grand océan du monde ?",r:"pacifique"},
  {q:"Énigme 12",e:"Combien de pattes a une araignée ?",r:"8"},
  {q:"Énigme 13",e:"Quel élément chimique a pour symbole H ?",r:"hydrogène"},
  {q:"Énigme 14",e:"Quelle langue parle-t-on principalement au Brésil ?",r:"portugais"}
];

const enigmesContainer = document.getElementById('enigmes');
const template = document.getElementById('enigme-template');

let current = 0;

// Initialiser énigmes
enigmesData.forEach((data, index) => {
  const clone = template.content.cloneNode(true);
  clone.querySelector('h2').textContent = data.q;
  clone.querySelector('p').textContent = data.e;
  const input = clone.querySelector('input');
  const result = clone.querySelector('.resultat');
  clone.querySelector('button').onclick = () => {
    if(input.value.trim().toLowerCase() === data.r){
      result.textContent = "Correct !";
      result.classList.add('text-green-600');
    } else {
      result.textContent = "Essaie encore !";
      result.classList.add('text-red-600');
    }
  };
  if(index === 0) clone.querySelector('.enigme').classList.remove('hidden');
  enigmesContainer.appendChild(clone);
});

const showEnigme = (idx) => {
  const enigmes = document.querySelectorAll('.enigme');
  enigmes.forEach((e, i) => e.classList.toggle('hidden', i !== idx));
};

document.getElementById('prev').onclick = () => {
  if(current > 0) current--; else current = enigmesData.length - 1;
  showEnigme(current);
};

document.getElementById('next').onclick = () => {
  if(current < enigmesData.length - 1) current++; else current = 0;
  showEnigme(current);
};
</script>

</body>
</html>
